import './polyfills.server.mjs';
import{c as m,e as W,f as b}from"./chunk-KX3WRALE.mjs";import"./chunk-2LMWK4L3.mjs";import{a as S,b as O,c as p}from"./chunk-TC5CWH7P.mjs";import{k as d,l as f,r as g,t as T,v}from"./chunk-ILCKWCRC.mjs";import"./chunk-K6RM6F3Q.mjs";import{$a as n,Eb as u,Ga as H,H as _,J as k,Ka as o,La as r,Qa as l,Ra as P,T as I,X as C,ab as x,db as D,eb as j,gb as y,hb as A,jc as E,ma as h,na as c,xa as F}from"./chunk-ZPTDKJIY.mjs";import"./chunk-VVCT4QZE.mjs";var w=[g,T,v],B=[d,f,u],z=[...w,...B];var L=[{provide:p,useFactory:O.createTimeoutService,deps:[[new I,S]]},{provide:S,useValue:{idleLimit:m.idleLimit,idleWarning:m.idleWarning}}];function $(a,t){if(a&1&&(o(0,"span"),n(1),y(2,"number"),r()),a&2){let R=P();h(),x(" Time out : "+A(2,1,R.afk(),"1.0-0"))}}var Te=(()=>{let t=class t{constructor(e,s,i){this.router=e,this.timeoutService=s,this.timeoutManagementService=i,this.injector=_(C)}ngOnInit(){this.startTimeout()}startTimeout(){this.timeoutService.startTimer(),this.getAfk(),this.subIsTimeWarningDialog(),this.subIsTimeoutAlertDialog()}getAfk(){this.afk=W(this.timeoutService.getAfk$(),{injector:this.injector})}subIsTimeWarningDialog(){let e={button:"home - \u7E7C\u7E8C",content:{afk:this.timeoutService.getAfk$(),idleLimit:m.idleLimit,idleWarning:m.idleWarning}};this.timeoutManagementService.showIsTimeWarningDialog(this.timeoutService,e)}subIsTimeoutAlertDialog(){let e={content:`\u60A8\u7684\u9592\u7F6E\u6642\u9593\u5DF2\u8D85\u904E ${m.idleLimit/60} \u5206\u9418\uFF0C\u7CFB\u7D71\u5DF2\u5C07\u60A8\u767B\u51FA\u3002`};this.timeoutManagementService.showIsTimeoutAlertDialog(this.timeoutService,e)}pauseTimer(){this.timeoutService.pauseTimer()}reStartTimer(){this.timeoutService.restartTimer()}reSetTimer(){this.timeoutService.resetTimer()}goToPage(e){this.router.navigateByUrl(`pages/${e}`)}ngOnDestroy(){this.timeoutService.clearTimer()}};t.\u0275fac=function(s){return new(s||t)(c(E),c(p),c(b))},t.\u0275cmp=k({type:t,selectors:[["app-home"]],standalone:!0,features:[D([...L]),j],decls:12,vars:1,consts:[[3,"click"]],template:function(s,i){s&1&&(o(0,"h1"),n(1,"Home Page "),F(2,$,3,4,"span"),r(),o(3,"ul")(4,"li",0),l("click",function(){return i.pauseTimer()}),n(5,"Pause Timer"),r(),o(6,"li",0),l("click",function(){return i.reStartTimer()}),n(7,"Restart Timer"),r(),o(8,"li",0),l("click",function(){return i.reSetTimer()}),n(9,"Reset Timer"),r(),o(10,"li",0),l("click",function(){return i.goToPage("product")}),n(11,"Product"),r()()),s&2&&(h(2),H(2,i.afk()?2:-1))},dependencies:[g,T,v,d,f,u],styles:["ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#00f;padding:1rem;text-decoration:underline;cursor:pointer}"]});let a=t;return a})();export{Te as default};
