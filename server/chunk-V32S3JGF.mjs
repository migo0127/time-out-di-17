import './polyfills.server.mjs';
import{a as D,d as F}from"./chunk-SF2KHYVJ.mjs";import{a as R,b as r,f as j}from"./chunk-KX3WRALE.mjs";import{h as m}from"./chunk-2LMWK4L3.mjs";import{a as p,b as W,c as a}from"./chunk-TC5CWH7P.mjs";import{E as f,H as s,J as d,K as g,Ma as T,Nb as I,Ob as b,T as h,Tb as M,V as v,Vb as w,db as S,eb as C,h as l,hc as x,jc as y,kc as L,na as n,vb as A}from"./chunk-ZPTDKJIY.mjs";var G=(()=>{let t=class t{constructor(e,o,u){this.authService=e,this.timeoutService=o,this.timeoutManagementService=u,this.title="time-out-di-17"}ngOnInit(){this.authService.isLoggedIn().subscribe(e=>{e?this.startTimeout():this.timeoutService.clearTimer()})}startTimeout(){this.timeoutService.startTimer(),this.subIsTimeWarningDialog(),this.subIsTimeoutAlertDialog()}subIsTimeWarningDialog(){let e={button:"app - \u7E7C\u7E8C",content:{afk:this.timeoutService.getAfk$(),idleLimit:r.idleLimit,idleWarning:r.idleWarning}};this.timeoutManagementService.showIsTimeWarningDialog(this.timeoutService,e)}subIsTimeoutAlertDialog(){let e={content:`\u60A8\u7684\u9592\u7F6E\u6642\u9593\u5DF2\u8D85\u904E ${r.idleLimit/60} \u5206\u9418\uFF0C\u7CFB\u7D71\u5DF2\u5C07\u60A8\u767B\u51FA\u3002`};this.timeoutManagementService.showIsTimeoutAlertDialog(this.timeoutService,e)}};t.\u0275fac=function(o){return new(o||t)(n(m),n(a),n(j))},t.\u0275cmp=d({type:t,selectors:[["app-root"]],standalone:!0,features:[S([R]),C],decls:1,vars:0,template:function(o,u){o&1&&T(0,"router-outlet")},dependencies:[x]});let i=t;return i})();var c=(i,t)=>{let H=s(m),e=s(y);return H.isLoggedIn().pipe(l(o=>o?!0:e.createUrlTree(["/login"])))};var O=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-WQVEHLIK.mjs")},{path:"pages",canActivate:[c],canActivateChild:[c],loadChildren:()=>import("./chunk-XJDIIW4N.mjs").then(i=>i.PagesRoutes)},{path:"register",loadChildren:()=>import("./chunk-Y6JN757I.mjs").then(i=>i.RegisterRoutes)},{path:"**",redirectTo:""}];var N=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:[{provide:p,useValue:e},{provide:a,useFactory:W.createTimeoutService,deps:[[new h,p]]}]}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=g({type:t}),t.\u0275inj=f({});let i=t;return i})();var P={providers:[L(O),I(b()),v(D,N.withConfig({idleLimit:r.idleLimit,idleWarning:r.idleWarning})),w()]};var $={providers:[F()]},k=A(P,$);var B=()=>M(G,k),Mt=B;export{Mt as a};
