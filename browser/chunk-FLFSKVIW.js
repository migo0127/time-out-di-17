import{b as m,d as W,f as b}from"./chunk-S42RXLGR.js";import"./chunk-MRRWW5PJ.js";import{a as S,b as O,c as v}from"./chunk-JKT2KMGE.js";import{k as p,l as d,r as f,t as g,v as T}from"./chunk-NLZ74Q5U.js";import{$ as c,Ba as l,Ca as P,D as _,F as k,La as n,Ma as x,P as I,Pa as D,Qa as j,S as C,Sa as y,Ta as A,_ as h,ab as u,ia as F,kb as E,ra as H,va as o,wa as r}from"./chunk-DIEQIMDK.js";var w=[f,g,T],B=[p,d,u],z=[...w,...B];var L=[{provide:v,useFactory:O.createTimeoutService,deps:[[new I,S]]},{provide:S,useValue:{idleLimit:m.idleLimit,idleWarning:m.idleWarning}}];function $(a,t){if(a&1&&(o(0,"span"),n(1),y(2,"number"),r()),a&2){let R=P();h(),x(" Time out : "+A(2,1,R.afk(),"1.0-0"))}}var Te=(()=>{let t=class t{constructor(e,s,i){this.router=e,this.timeoutService=s,this.timeoutManagementService=i,this.injector=_(C)}ngOnInit(){this.startTimeout()}startTimeout(){this.timeoutService.startTimer(),this.getAfk(),this.subIsTimeWarningDialog(),this.subIsTimeoutAlertDialog()}getAfk(){this.afk=W(this.timeoutService.getAfk$(),{injector:this.injector})}subIsTimeWarningDialog(){let e={button:"home - \u7E7C\u7E8C",content:{afk:this.timeoutService.getAfk$(),idleLimit:m.idleLimit,idleWarning:m.idleWarning}};this.timeoutManagementService.showIsTimeWarningDialog(this.timeoutService,e)}subIsTimeoutAlertDialog(){let e={content:`\u60A8\u7684\u9592\u7F6E\u6642\u9593\u5DF2\u8D85\u904E ${m.idleLimit/60} \u5206\u9418\uFF0C\u7CFB\u7D71\u5DF2\u5C07\u60A8\u767B\u51FA\u3002`};this.timeoutManagementService.showIsTimeoutAlertDialog(this.timeoutService,e)}pauseTimer(){this.timeoutService.pauseTimer()}reStartTimer(){this.timeoutService.restartTimer()}reSetTimer(){this.timeoutService.resetTimer()}goToPage(e){this.router.navigateByUrl(`pages/${e}`)}ngOnDestroy(){this.timeoutService.clearTimer()}};t.\u0275fac=function(s){return new(s||t)(c(E),c(v),c(b))},t.\u0275cmp=k({type:t,selectors:[["app-home"]],standalone:!0,features:[D([...L]),j],decls:12,vars:1,consts:[[3,"click"]],template:function(s,i){s&1&&(o(0,"h1"),n(1,"Home Page "),F(2,$,3,4,"span"),r(),o(3,"ul")(4,"li",0),l("click",function(){return i.pauseTimer()}),n(5,"Pause Timer"),r(),o(6,"li",0),l("click",function(){return i.reStartTimer()}),n(7,"Restart Timer"),r(),o(8,"li",0),l("click",function(){return i.reSetTimer()}),n(9,"Reset Timer"),r(),o(10,"li",0),l("click",function(){return i.goToPage("product")}),n(11,"Product"),r()()),s&2&&(h(2),H(2,i.afk()?2:-1))},dependencies:[f,g,T,p,d,u],styles:["ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#00f;padding:1rem;text-decoration:underline;cursor:pointer}"]});let a=t;return a})();export{Te as default};
